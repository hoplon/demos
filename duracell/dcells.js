importScripts("shared.js");
(function(){
'use strict';var ZA=function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $APP.B(b.slice(1),0,null):null;return YA(arguments[0],b)},YA=function(a,b){return self.postMessage($APP.tg($APP.N([new $APP.V(null,3,5,$APP.W,[a,$APP.Fj,b],null)])))},aB=function(a){a=$APP.Li(a.data);var b=$APP.E(a);a=$APP.fc(a);var c=$APP.E(a);a=$APP.fc(a);try{var d=function(){var g=$APP.x($A);return b.g?b.g(g):b.call(null,g)}(),e=$APP.P(d,0,null),f=$APP.P(d,1,null);
return $APP.t(e)?self.postMessage($APP.tg($APP.N([new $APP.V(null,3,5,$APP.W,[c,$APP.Nj,$APP.Jd(f,a)],null)]))):$APP.Ld(f,function(g){return self.postMessage($APP.tg($APP.N([new $APP.V(null,3,5,$APP.W,[c,$APP.Nj,g],null)])))},function(g){return self.postMessage($APP.tg($APP.N([new $APP.V(null,3,5,$APP.W,[c,$APP.qj,$APP.v.g(g)],null)])))},a)}catch(g){return self.postMessage($APP.tg($APP.N([new $APP.V(null,3,5,$APP.W,[c,$APP.qj,$APP.v.g(g)],null)])))}};var $A=$APP.de($APP.U);var bB=$APP.de(null),TA=new $APP.V(null,2,5,$APP.W,[!1,function(a,b,c){var d=$APP.x(bB).transaction("cells").objectStore("cells").get(c);d.onerror=b;return d.onsuccess=function(){var e=d.result;return a.g?a.g(e):a.call(null,e)}}],null);$APP.Fg.C($A,$APP.X,$APP.mg.g("load-cell"),TA);
var cB=new $APP.V(null,2,5,$APP.W,[!1,function(a,b,c,d){var e=$APP.x(bB).transaction("cells","readwrite").objectStore("cells").put(d,c);e.onerror=b;return e.onsuccess=function(){var f=e.result;return a.g?a.g(f):a.call(null,f)}}],null);$APP.Fg.C($A,$APP.X,$APP.mg.g("save-cell"),cB);(function(){$APP.Aa=function(b){return console.log(b)};var a=self.indexedDB.open("durable-cells");a.onupgradeneeded=function(b){b.target.result.createObjectStore("cells");return null};a.onerror=function(b){return YA($APP.mj,$APP.N([["Unable to open indexedDB durable-cells",$APP.v.g(b.target.errorCode)].join("")]))};return a.onsuccess=function(b){$APP.ee(bB,b.target.result);self.onmessage=aB;return ZA($APP.vj)}})();
}).call(this);